jQuery(document).ready(function(){function t(t){void 0!=t&&"undefined"!=t||(t=0),b.end(),jQuery("#rs_ib_admin_hello_view_box").length<=0&&(console.log(jQuery("#rs_ib_admin_hello_view_box").length),jQuery("#wpbody").css("margin-top","300px")),console.log(b.getCurrentStep()),b.setCurrentStep(t),b.start(!0)}var e=0,o=13,i=17,n=19,r=33,u=41,a=48,c=57,b=new Tour({debug:!0,onEnd:function(t){jQuery("#rs_ib_admin_hello_view_box").length<=0&&jQuery("#wpbody").css("margin-top","0px")},template:function(t,e){var o=b._options.steps.length,i="<div class='ibui_popover_tour popover tour'><div class='arrow'></div><h3 class='ibui_popover_tour_title popover-title'></h3><div class='ibui_popover_tour content popover-content'></div><div class='ibui_popover_tour_navigation popover-navigation'><button class='ibui_popover_tour_btn btn btn-default' style='margin-left:0px;' data-role='prev'>zur√ºck</button><button class='ibui_popover_tour_btn btn btn-default' data-role='next'>weiter</button><button class='ibui_popover_tour_btn btn btn-default' data-role='end'>Beenden</button></div></div>";return e.title=e.title+"<br />("+(t+1)+" / "+o+")",i},steps:[{element:"#ibfc_btn_start_tour",title:ibuiTourTextObj.welcomeTitle,content:ibuiTourTextObj.welcomeTxt,onNext:function(t){if(t.getCurrentStep()==e)return document.location.href=ibuiBaseData.adminurl+"admin.php?page=rs_einstellungen&rs_indiebooking_tour=settings",(new jQuery.Deferred).promise()}},{element:"#rs_indiebooking_settings_tab1",title:ibuiTourTextObj.generalTitle,content:ibuiTourTextObj.generalTxt,onShow:function(t){jQuery("#tab-1").prop("checked",!0)}},{element:"#rs_ib_general_options_tour",title:ibuiTourTextObj.generalDefaultSettingsTitle,content:ibuiTourTextObj.generalDefaultSettingsTxt,placement:"top",onShow:function(){}},{element:"#rs_ib_general_options_google_tour",title:ibuiTourTextObj.googleTitle,content:ibuiTourTextObj.googleTxt,placement:"top",onPrev:function(t){},onShow:function(t){}},{element:"#rs_indiebooking_settings_tab2",title:ibuiTourTextObj.filterTitle,content:ibuiTourTextObj.filterTxt,onPrev:function(t){jQuery("#tab-1").prop("checked",!0)},onShow:function(t){jQuery("#tab-2").prop("checked",!0)}},{element:"#rs_indiebooking_settings_required_contact_data_tour",title:ibuiTourTextObj.requiredContactDataTitle,content:ibuiTourTextObj.requiredContactDataTxt,placement:"top",onPrev:function(t){},onShow:function(t){}},{element:"#rs_indiebooking_settings_tab3",title:ibuiTourTextObj.paymentTitle,content:ibuiTourTextObj.paymentTxt,onPrev:function(t){jQuery("#tab-2").prop("checked",!0)},onShow:function(t){jQuery("#tab-3").prop("checked",!0)}},{element:"#rs_indiebooking_settings_tab4",title:ibuiTourTextObj.cancellationTitle,content:ibuiTourTextObj.cancellationTxt,onPrev:function(t){jQuery("#tab-3").prop("checked",!0)},onShow:function(t){jQuery("#tab-4").prop("checked",!0)}},{element:"#rs_indiebooking_settings_tab5",title:ibuiTourTextObj.taxesTitle,content:ibuiTourTextObj.taxesTxt,onPrev:function(t){jQuery("#tab-4").prop("checked",!0)},onShow:function(t){jQuery("#tab-5").prop("checked",!0)}},{element:"#rs_indiebooking_settings_tab6",title:ibuiTourTextObj.printingsTitle,content:ibuiTourTextObj.printingsTxt,onPrev:function(t){jQuery("#tab-5").prop("checked",!0)},onShow:function(t){jQuery("#tab-6").prop("checked",!0)}},{element:"#rs_indiebooking_settings_tab7",title:ibuiTourTextObj.mailTitle,content:ibuiTourTextObj.mailTxt,onPrev:function(t){jQuery("#tab-6").prop("checked",!0)},onShow:function(t){jQuery("#tab-7").prop("checked",!0)}},{element:"#rs_indiebooking_admin_settings_mail_2_tour",title:ibuiTourTextObj.mailAdminTitle,content:ibuiTourTextObj.mailAdminTxt,placement:"top",onPrev:function(t){},onShow:function(t){}},{element:"#rs_indiebooking_settings_tab8",title:ibuiTourTextObj.termsConditionTitle,content:ibuiTourTextObj.termsConditionTxt,onPrev:function(t){jQuery("#tab-7").prop("checked",!0)},onShow:function(t){jQuery("#tab-8").prop("checked",!0)}},{element:"#rs_indiebooking_settings_tab9",title:"indiebooking",content:ibuiTourTextObj.indiebookingTxt,onPrev:function(t){jQuery("#tab-8").prop("checked",!0)},onShow:function(t){jQuery("#tab-9").prop("checked",!0)},onNext:function(t){if(console.log(t.getCurrentStep()),t.getCurrentStep()==o&&"category"!==p("rs_indiebooking_tour"))return document.location.href=ibuiBaseData.adminurl+"edit-tags.php?taxonomy=rsappartmentcategories&post_type=rsappartment&rs_indiebooking_tour=category",(new jQuery.Deferred).promise()}},{element:"#col-container",title:ibuiTourTextObj.categoryTitle,content:ibuiTourTextObj.categoryTxt,placement:"top",onNext:function(t){console.log(t.getCurrentStep())}},{element:"#rs_ib_btn_create_category",title:ibuiTourTextObj.addCategoryTitle,content:ibuiTourTextObj.addCategoryTxt,placement:"top",onShow:function(t){jQuery("#rs_ib_btn_create_category").addClass("indiebookin_tour_next_btn")},onNext:function(t){jQuery("#rs_ib_btn_create_category").data("data-tourclick","true"),jQuery("#rs_ib_btn_create_category").trigger("click")}},{element:"#rs_ib_taxonomy_category_popup_btn_save",title:ibuiTourTextObj.addCategoryDlgTitle,content:ibuiTourTextObj.addCategoryDlgTxt,placement:"top",onShow:function(t){jQuery("#rs_ib_btn_create_category").removeClass("indiebookin_tour_next_btn"),jQuery("#rs_ib_taxonomy_category_popup_btn_save").addClass("indiebookin_tour_next_btn"),jQuery("#rs_ib_taxonomy_category_popup_btn_cancel").addClass("indiebookin_tour_next_btn")},onNext:function(t){console.log("next mist"),jQuery("#rs_ib_taxonomy_category_popup_btn_cancel").trigger("click")}},{element:"#rs_ib_btn_create_category",title:ibuiTourTextObj.addedCategoryTitle,content:ibuiTourTextObj.addedCategoryTxt,placement:"top",onShow:function(t){jQuery("#rs_ib_taxonomy_category_popup_btn_save").removeClass("indiebookin_tour_next_btn"),jQuery("#rs_ib_taxonomy_category_popup_btn_cancel").removeClass("indiebookin_tour_next_btn")},onNext:function(t){if(t.getCurrentStep()==i)return document.location.href=ibuiBaseData.adminurl+"edit.php?post_type=rsappartment&rs_indiebooking_tour=apartmentuebersicht",(new jQuery.Deferred).promise()}},{element:"#posts-filter",title:ibuiTourTextObj.apartmentuebersichtTitle,content:ibuiTourTextObj.apartmentuebersichtTxt,placement:"top"},{element:".page-title-action",title:ibuiTourTextObj.addApartmentBtnTitle,content:ibuiTourTextObj.addApartmentBtnTxt,placement:"top",onShow:function(t){jQuery(".page-title-action").addClass("indiebookin_tour_next_btn"),jQuery("#wpbody-content").find("div.wrap").find("a.page-title-action").attr("href",ibuiBaseData.adminurl+"post-new.php?post_type=rsappartment&rs_indiebooking_tour=apartment")},onNext:function(t){if(t.getCurrentStep()==n)return document.location.href=ibuiBaseData.adminurl+"post-new.php?post_type=rsappartment&rs_indiebooking_tour=apartment",(new jQuery.Deferred).promise()}},{element:"#titlewrap",title:ibuiTourTextObj.apartmentNameTitle,content:ibuiTourTextObj.apartmentNameTxt,placement:"top"},{element:"#wp-content-editor-container",title:ibuiTourTextObj.apartmentDescTitle,content:ibuiTourTextObj.apartmentDescTxt,placement:"top"},{element:"#ibui_aptab_tab-1",title:ibuiTourTextObj.apartmentBasicTitle,content:ibuiTourTextObj.apartmentBasicTxt,onShow:function(t){jQuery("#tab-1").prop("checked",!0)}},{element:"#ibui_aptab_tab-2",title:ibuiTourTextObj.apartmentBasic2Title,content:ibuiTourTextObj.apartmentBasic2Txt,onShow:function(t){jQuery("#tab-2").prop("checked",!0)}},{element:"#ibui_aptab_tab-4",title:ibuiTourTextObj.apartmentPaymentTitle,content:ibuiTourTextObj.apartmentPaymentTxt,onShow:function(t){jQuery("#tab-4").prop("checked",!0)}},{element:"#default_price_container",title:ibuiTourTextObj.apartmentPrice1Title,content:ibuiTourTextObj.apartmentPrice1Txt},{element:"#appartment_extra_charge_prices",title:ibuiTourTextObj.apartmentPrice2Title,content:ibuiTourTextObj.apartmentPrice2Txt},{element:"#appartment_degression_prices",title:ibuiTourTextObj.apartmentPrice3Title,content:ibuiTourTextObj.apartmentPrice3Txt},{element:"#appartment_years_indipendent_prices",title:ibuiTourTextObj.apartmentPrice4Title,content:ibuiTourTextObj.apartmentPrice4Txt},{element:"#ibui_aptab_tab-5",title:ibuiTourTextObj.apartmentBookingTitle,content:ibuiTourTextObj.apartmentBookingTxt,onShow:function(t){jQuery("#tab-5").prop("checked",!0)}},{element:"#ibui_aptab_tab-6",title:ibuiTourTextObj.apartmentGalleryTitle,content:ibuiTourTextObj.apartmentGalleryTxt,onShow:function(t){jQuery("#tab-6").prop("checked",!0)}},{element:"#ibui_aptab_tab-3",title:ibuiTourTextObj.apartmentCampaignTitle,content:ibuiTourTextObj.apartmentCampaignTxt,onShow:function(t){jQuery("#tab-3").prop("checked",!0)}},{element:"#ibui_aptab_tab-7",title:ibuiTourTextObj.apartmentSpecialFeaturesTitle,content:ibuiTourTextObj.apartmentSpecialFeaturesTxt,onShow:function(t){jQuery("#tab-7").prop("checked",!0)}},{element:"#publish",title:ibuiTourTextObj.apartmentPublishTitle,content:ibuiTourTextObj.apartmentPublishTxt,placement:"left",onShow:function(t){},onNext:function(t){if(t.getCurrentStep()==r)return document.location.href=ibuiBaseData.adminurl+"edit-tags.php?taxonomy=rsappartmentaktion&post_type=rsappartment&rs_indiebooking_tour=campaign",(new jQuery.Deferred).promise()}},{element:"#col-container",title:ibuiTourTextObj.campaignOverviewTitle,content:ibuiTourTextObj.campaignOverviewTxt,placement:"top",onShow:function(t){jQuery("#rs_ib_btn_create_aktion").addClass("indiebookin_tour_next_btn")},onNext:function(t){jQuery("#rs_ib_btn_create_aktion").data("data-tourclick","true"),jQuery("#rs_ib_btn_create_aktion").trigger("click")}},{element:"#rs_ib_taxonomy_campaign_popup",title:ibuiTourTextObj.campaignAdd1Title,content:ibuiTourTextObj.campaignAdd1Txt,placement:"top",onShow:function(t){t._options.autoscroll=!1,jQuery(window).scrollTop(0)}},{element:"#rs_indiebooking_admin_add_campaign_tour_value",title:ibuiTourTextObj.campaignAdd2Title,content:ibuiTourTextObj.campaignAdd2Txt,placement:"top",onHide:function(t){var e="#rs_ib_taxonomy_campaign_popup",o=jQuery(e).prop("scrollHeight"),i=jQuery(e).outerHeight(),n=o-i;n/=5,jQuery(e).scrollTop(n)}},{element:"#rs_indiebooking_admin_add_campaign_tour_settings",title:ibuiTourTextObj.campaignAdd3Title,content:ibuiTourTextObj.campaignAdd3Txt,placement:"top",onHide:function(t){var e="#rs_ib_taxonomy_campaign_popup",o=jQuery(e).prop("scrollHeight"),i=jQuery(e).outerHeight(),n=o-i;n/=2,jQuery(e).scrollTop(n)}},{element:"#rs_indiebooking_admin_add_campaign_tour_activition_condition",title:ibuiTourTextObj.campaignAdd4Title,content:ibuiTourTextObj.campaignAdd4Txt,placement:"top",onHide:function(t){jQuery(window).scrollTop(0);var e="#rs_ib_taxonomy_campaign_popup",o=jQuery(e).prop("scrollHeight"),i=jQuery(e).outerHeight(),n=o-i;jQuery(e).scrollTop(n)}},{element:"#rs_indiebooking_admin_add_campaign_tour_valid_periods",title:ibuiTourTextObj.campaignAdd5Title,content:ibuiTourTextObj.campaignAdd5Txt,placement:"top"},{element:"#apartment_check_table",title:ibuiTourTextObj.campaignAdd6Title,content:ibuiTourTextObj.campaignAdd6Txt,placement:"top",onHide:function(t){}},{element:"#rs_ib_taxonomy_aktion_popup_btn_save",title:ibuiTourTextObj.campaignAdd7Title,content:ibuiTourTextObj.campaignAdd7Txt,placement:"top",onHide:function(t){t._options.autoscroll=!0},onNext:function(t){if(jQuery("#rs_ib_taxonomy_aktion_popup_btn_cancel").trigger("click"),t.getCurrentStep()==u)return document.location.href=ibuiBaseData.adminurl+"edit-tags.php?taxonomy=ibrealgutschein&post_type=rsappartment&rs_indiebooking_tour=voucher",(new jQuery.Deferred).promise()}},{element:"#posts-filter",title:ibuiTourTextObj.voucherAdd1Title,content:ibuiTourTextObj.voucherAdd1Txt,placement:"top",onHide:function(t){}},{element:"#rs_ib_btn_create_real_gutschein",title:ibuiTourTextObj.voucherAdd2Title,content:ibuiTourTextObj.voucherAdd2Txt,placement:"top",onShow:function(t){jQuery("#rs_ib_btn_create_real_gutschein").addClass("indiebookin_tour_next_btn")},onNext:function(t){jQuery("#rs_ib_btn_create_real_gutschein").data("data-tourclick","true"),jQuery("#rs_ib_btn_create_real_gutschein").trigger("click")}},{element:"#rs_ib_taxonomy_real_gutschein_popup",title:ibuiTourTextObj.voucherAdd3Title,content:ibuiTourTextObj.voucherAdd3Txt,placement:"top",onShow:function(t){t._options.autoscroll=!1,jQuery(window).scrollTop(0)}},{element:"#rs_indiebooking_admin_tour_voucher_code_number",title:ibuiTourTextObj.voucherAdd4Title,content:ibuiTourTextObj.voucherAdd4Txt,placement:"top",onShow:function(t){}},{element:"#rs_indiebooking_admin_tour_voucher_value",title:ibuiTourTextObj.voucherAdd6Title,content:ibuiTourTextObj.voucherAdd6Txt,placement:"top"},{element:"#rs_indiebooking_admin_tour_voucher_valid_periods",title:ibuiTourTextObj.voucherAdd5Title,content:ibuiTourTextObj.voucherAdd5Txt,placement:"top",onShow:function(t){var e="#rs_ib_taxonomy_real_gutschein_popup",o=jQuery(e).prop("scrollHeight"),i=jQuery(e).outerHeight(),n=o-i;jQuery(e).scrollTop(n)}},{element:"#rs_ib_taxonomy_real_gutschein_popup_btn_save",title:ibuiTourTextObj.voucherAdd7Title,content:ibuiTourTextObj.voucherAdd7Txt,placement:"top",onHide:function(t){t._options.autoscroll=!0},onNext:function(t){if(jQuery("#rs_ib_taxonomy_real_gutschein_popup_btn_cancel").trigger("click"),console.log(t.getCurrentStep()),t.getCurrentStep()==a)return document.location.href=ibuiBaseData.adminurl+"edit-tags.php?taxonomy=rsgutschein&post_type=rsappartment&rs_indiebooking_tour=coupon",(new jQuery.Deferred).promise()}},{element:"#posts-filter",title:ibuiTourTextObj.couponsAdd1Title,content:ibuiTourTextObj.couponsAdd1Txt,placement:"top"},{element:"#rs_ib_btn_create_coupon",title:ibuiTourTextObj.couponsAdd2Title,content:ibuiTourTextObj.couponsAdd2Txt,placement:"top",onHide:function(t){jQuery("#rs_ib_btn_create_coupon").addClass("indiebookin_tour_next_btn")},onNext:function(t){jQuery("#rs_ib_btn_create_coupon").data("data-tourclick","true"),jQuery("#rs_ib_btn_create_coupon").trigger("click")}},{element:"#rs_ib_taxonomy_coupon_popup",title:ibuiTourTextObj.couponsAdd3Title,content:ibuiTourTextObj.couponsAdd3Txt,placement:"top",onShow:function(t){t._options.autoscroll=!1,jQuery(window).scrollTop(0)}},{element:"#rs_indiebooking_admin_view_tour_coupon_code",title:ibuiTourTextObj.couponsAdd4Title,content:ibuiTourTextObj.couponsAdd4Txt,placement:"top"},{element:"#coupon_dateTable_values_conditions",title:ibuiTourTextObj.couponsAdd5Title,content:ibuiTourTextObj.couponsAdd5Txt,placement:"top",onShow:function(t){var e="#rs_ib_taxonomy_coupon_popup",o=jQuery(e).prop("scrollHeight"),i=jQuery(e).outerHeight(),n=o-i;n/=3,jQuery(e).scrollTop(n)}},{element:"#coupon_dateTable_option",title:ibuiTourTextObj.couponsAdd6Title,content:ibuiTourTextObj.couponsAdd6Txt,placement:"top"},{element:"#coupon_dateTable_from_to_active",title:ibuiTourTextObj.couponsAdd7Title,content:ibuiTourTextObj.couponsAdd7Txt,placement:"top",onShow:function(t){var e="#rs_ib_taxonomy_coupon_popup",o=jQuery(e).prop("scrollHeight"),i=jQuery(e).outerHeight(),n=o-i;jQuery(e).scrollTop(n)}},{element:"#apartment_check_table",title:ibuiTourTextObj.couponsAdd8Title,content:ibuiTourTextObj.couponsAdd8Txt,placement:"top"},{element:"#rs_ib_taxonomy_coupon_popup_btn_save",title:ibuiTourTextObj.voucherAdd9Title,content:ibuiTourTextObj.voucherAdd9Txt,placement:"top",onHide:function(t){t._options.autoscroll=!0},onNext:function(t){if(jQuery("#rs_ib_taxonomy_coupon_popup_btn_cancel").trigger("click"),console.log(t.getCurrentStep()),t.getCurrentStep()==c)return document.location.href=ibuiBaseData.adminurl+"edit.php?post_type=rsappartment_buchung&rs_indiebooking_tour=bookingoverview",(new jQuery.Deferred).promise()}},{element:"#posts-filter",title:ibuiTourTextObj.bookingoverviewTitle,content:ibuiTourTextObj.bookingoverviewTxt,placement:"top"},{title:ibuiTourTextObj.tourCompleteTitle,content:ibuiTourTextObj.tourCompleteTxt,orphan:!0,onShow:function(t){jQuery("#tab-6").prop("checked",!0)}}]}),p=function(t){var e,o,i=decodeURIComponent(window.location.search.substring(1)),n=i.split("&");for(o=0;o<n.length;o++)if(e=n[o].split("="),e[0]===t)return void 0===e[1]||e[1]},_=p("rs_indiebooking_tour");if(void 0!==_){switch(console.log(_),_){case"settings":t(e+1);break;case"category":startStep=o+1,console.log(startStep),t(startStep);break;case"apartmentuebersicht":t(i+1);break;case"apartment":t(n+1);break;case"campaign":t(r+1);break;case"voucher":t(u+1);break;case"coupon":t(a+1);break;case"bookingoverview":t(c+1)}}jQuery(document).on("click","#ibfc_btn_start_tour_nav",function(e){e.preventDefault(),window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_settings_tab","undefined",1),window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_apartment_tab","undefined",1),t(0)}),jQuery(document).on("click","#ibfc_btn_start_tour",function(e){e.preventDefault(),window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_settings_tab","undefined",1),window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_apartment_tab","undefined",1),t(0)}),jQuery(document).on("click","#ibfc_btn_start_tour2",function(e){e.preventDefault(),window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_settings_tab","undefined",1),window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_apartment_tab","undefined",1),t(1)}),jQuery(document).on("click",".indiebookin_tour_next_btn",function(t){jQuery(this).removeClass("indiebookin_tour_next_btn");var e=jQuery(this).data("data-tourclick");console.log(e),void 0!==e&&"undefined"!==e&&"true"===e||b.next()})});