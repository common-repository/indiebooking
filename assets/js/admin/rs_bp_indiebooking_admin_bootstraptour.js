jQuery(document).ready(function(){function t(t){void 0!=t&&"undefined"!=t||(t=0),a.end(),jQuery("#rs_ib_admin_hello_view_box").length<=0&&(console.log(jQuery("#rs_ib_admin_hello_view_box").length),jQuery("#wpbody").css("margin-top","300px")),console.log(a.getCurrentStep()),a.setCurrentStep(t),a.start(!0)}var e=0,n=10,o=14,i=16,r=25,a=new Tour({debug:!0,onEnd:function(t){jQuery("#rs_ib_admin_hello_view_box").length<=0&&jQuery("#wpbody").css("margin-top","0px")},template:function(t,e){var n=a._options.steps.length,o="<div class='ibui_popover_tour popover tour'><div class='arrow'></div><h3 class='ibui_popover_tour_title popover-title'></h3><div class='ibui_popover_tour content popover-content'></div><div class='ibui_popover_tour_navigation popover-navigation'><button class='ibui_popover_tour_btn btn btn-default' style='margin-left:0px;' data-role='prev'>zur√ºck</button><button class='ibui_popover_tour_btn btn btn-default' data-role='next'>weiter</button><button class='ibui_popover_tour_btn btn btn-default' data-role='end'>Beenden</button></div></div>";return e.title=e.title+"<br />("+(t+1)+" / "+n+")",o},steps:[{element:"#ibfc_btn_start_tour",title:ibuiTourTextObj.welcomeTitle,content:ibuiTourTextObj.welcomeTxt,onNext:function(t){if(t.getCurrentStep()==e)return document.location.href=ibuiBaseData.adminurl+"admin.php?page=rs_einstellungen&rs_indiebooking_tour=settings",(new jQuery.Deferred).promise()}},{element:"#rs_indiebooking_settings_tab1",title:ibuiTourTextObj.generalTitle,content:ibuiTourTextObj.generalTxt,onShow:function(t){jQuery("#tab-1").prop("checked",!0)}},{element:"#rs_ib_general_options_tour",title:ibuiTourTextObj.generalDefaultSettingsTitle,content:ibuiTourTextObj.generalDefaultSettingsTxt,placement:"top",onShow:function(){}},{element:"#rs_indiebooking_settings_tab2",title:ibuiTourTextObj.filterTitle,content:ibuiTourTextObj.filterTxt,onPrev:function(t){jQuery("#tab-1").prop("checked",!0)},onShow:function(t){jQuery("#tab-2").prop("checked",!0)}},{element:"#rs_indiebooking_settings_tab3",title:ibuiTourTextObj.paymentTitle,content:ibuiTourTextObj.paymentTxt,onPrev:function(t){jQuery("#tab-2").prop("checked",!0)},onShow:function(t){jQuery("#tab-3").prop("checked",!0)}},{element:"#rs_indiebooking_settings_tab4",title:ibuiTourTextObj.cancellationTitle,content:ibuiTourTextObj.cancellationTxt,onPrev:function(t){jQuery("#tab-3").prop("checked",!0)},onShow:function(t){jQuery("#tab-4").prop("checked",!0)}},{element:"#rs_indiebooking_settings_tab5",title:ibuiTourTextObj.taxesTitle,content:ibuiTourTextObj.taxesTxt,onPrev:function(t){jQuery("#tab-4").prop("checked",!0)},onShow:function(t){jQuery("#tab-5").prop("checked",!0)}},{element:"#rs_indiebooking_settings_tab6",title:ibuiTourTextObj.printingsTitle,content:ibuiTourTextObj.printingsTxt,onPrev:function(t){jQuery("#tab-5").prop("checked",!0)},onShow:function(t){jQuery("#tab-6").prop("checked",!0)}},{element:"#rs_indiebooking_settings_tab7",title:ibuiTourTextObj.mailTitle,content:ibuiTourTextObj.mailTxt,onPrev:function(t){jQuery("#tab-6").prop("checked",!0)},onShow:function(t){jQuery("#tab-7").prop("checked",!0)}},{element:"#rs_indiebooking_settings_tab8",title:ibuiTourTextObj.termsConditionTitle,content:ibuiTourTextObj.termsConditionTxt,onPrev:function(t){jQuery("#tab-7").prop("checked",!0)},onShow:function(t){jQuery("#tab-8").prop("checked",!0)}},{element:"#rs_indiebooking_settings_tab9",title:"indiebooking",content:ibuiTourTextObj.indiebookingTxt,onPrev:function(t){jQuery("#tab-8").prop("checked",!0)},onShow:function(t){jQuery("#tab-9").prop("checked",!0)},onNext:function(t){if(t.getCurrentStep()==n&&"category"!==u("rs_indiebooking_tour"))return document.location.href=ibuiBaseData.adminurl+"edit-tags.php?taxonomy=rsappartmentcategories&post_type=rsappartment&rs_indiebooking_tour=category",(new jQuery.Deferred).promise()}},{element:"#col-container",title:ibuiTourTextObj.categoryTitle,content:ibuiTourTextObj.categoryTxt,placement:"top",onNext:function(t){console.log(t.getCurrentStep())}},{element:"#rs_ib_btn_create_category",title:ibuiTourTextObj.addCategoryTitle,content:ibuiTourTextObj.addCategoryTxt,placement:"top",onShow:function(t){jQuery("#rs_ib_btn_create_category").addClass("indiebookin_tour_next_btn")},onNext:function(t){jQuery("#rs_ib_btn_create_category").data("data-tourclick","true"),jQuery("#rs_ib_btn_create_category").trigger("click")}},{element:"#rs_ib_taxonomy_category_popup_btn_save",title:ibuiTourTextObj.addCategoryDlgTitle,content:ibuiTourTextObj.addCategoryDlgTxt,placement:"top",onShow:function(t){jQuery("#rs_ib_btn_create_category").removeClass("indiebookin_tour_next_btn"),jQuery("#rs_ib_taxonomy_category_popup_btn_save").addClass("indiebookin_tour_next_btn"),jQuery("#rs_ib_taxonomy_category_popup_btn_cancel").addClass("indiebookin_tour_next_btn")},onNext:function(t){console.log("next mist"),jQuery("#rs_ib_taxonomy_category_popup_btn_cancel").trigger("click")}},{element:"#rs_ib_btn_create_category",title:ibuiTourTextObj.addedCategoryTitle,content:ibuiTourTextObj.addedCategoryTxt,placement:"top",onShow:function(t){jQuery("#rs_ib_taxonomy_category_popup_btn_save").removeClass("indiebookin_tour_next_btn"),jQuery("#rs_ib_taxonomy_category_popup_btn_cancel").removeClass("indiebookin_tour_next_btn")},onNext:function(t){if(t.getCurrentStep()==o)return document.location.href=ibuiBaseData.adminurl+"edit.php?post_type=rsappartment&rs_indiebooking_tour=apartmentuebersicht",(new jQuery.Deferred).promise()}},{element:"#posts-filter",title:ibuiTourTextObj.apartmentuebersichtTitle,content:ibuiTourTextObj.apartmentuebersichtTxt,placement:"top"},{element:".page-title-action",title:ibuiTourTextObj.addApartmentBtnTitle,content:ibuiTourTextObj.addApartmentBtnTxt,placement:"top",onShow:function(t){jQuery(".page-title-action").addClass("indiebookin_tour_next_btn"),jQuery("#wpbody-content").find("div.wrap").find("a.page-title-action").attr("href",ibuiBaseData.adminurl+"post-new.php?post_type=rsappartment&rs_indiebooking_tour=apartment")},onNext:function(t){if(t.getCurrentStep()==i)return document.location.href=ibuiBaseData.adminurl+"post-new.php?post_type=rsappartment&rs_indiebooking_tour=apartment",(new jQuery.Deferred).promise()}},{element:"#titlewrap",title:ibuiTourTextObj.apartmentNameTitle,content:ibuiTourTextObj.apartmentNameTxt,placement:"top"},{element:"#wp-content-editor-container",title:ibuiTourTextObj.apartmentDescTitle,content:ibuiTourTextObj.apartmentDescTxt,placement:"top"},{element:"#ibui_aptab_tab-1",title:ibuiTourTextObj.apartmentBasicTitle,content:ibuiTourTextObj.apartmentBasicTxt,onShow:function(t){jQuery("#tab-1").prop("checked",!0)}},{element:"#ibui_aptab_tab-2",title:ibuiTourTextObj.apartmentBasic2Title,content:ibuiTourTextObj.apartmentBasic2Txt,onShow:function(t){jQuery("#tab-2").prop("checked",!0)}},{element:"#ibui_aptab_tab-4",title:ibuiTourTextObj.apartmentPaymentTitle,content:ibuiTourTextObj.apartmentPaymentTxt,onShow:function(t){jQuery("#tab-4").prop("checked",!0)}},{element:"#ibui_aptab_tab-5",title:ibuiTourTextObj.apartmentBookingTitle,content:ibuiTourTextObj.apartmentBookingTxt,onShow:function(t){jQuery("#tab-5").prop("checked",!0)}},{element:"#ibui_aptab_tab-6",title:ibuiTourTextObj.apartmentGalleryTitle,content:ibuiTourTextObj.apartmentGalleryTxt,onShow:function(t){jQuery("#tab-6").prop("checked",!0)}},{element:"#publish",title:ibuiTourTextObj.apartmentPublishTitle,content:ibuiTourTextObj.apartmentPublishTxt,placement:"left",onShow:function(t){},onNext:function(t){if(t.getCurrentStep()==r)return document.location.href=ibuiBaseData.adminurl+"edit.php?post_type=rsappartment_buchung&rs_indiebooking_tour=bookingoverview",(new jQuery.Deferred).promise()}},{element:"#posts-filter",title:ibuiTourTextObj.bookingoverviewTitle,content:ibuiTourTextObj.bookingoverviewTxt,placement:"top"},{title:ibuiTourTextObj.tourCompleteTitle,content:ibuiTourTextObj.tourCompleteTxt,orphan:!0,onShow:function(t){jQuery("#tab-6").prop("checked",!0)}}]}),u=function(t){var e,n,o=decodeURIComponent(window.location.search.substring(1)),i=o.split("&");for(n=0;n<i.length;n++)if(e=i[n].split("="),e[0]===t)return void 0===e[1]||e[1]},b=u("rs_indiebooking_tour");if(void 0!==b){switch(console.log(b),b){case"settings":t(e+1);break;case"category":startStep=n+1,console.log(startStep),t(startStep);break;case"apartmentuebersicht":t(o+1);break;case"apartment":t(i+1);break;case"bookingoverview":t(r+1)}}jQuery(document).on("click","#ibfc_btn_start_tour_nav",function(e){e.preventDefault(),window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_settings_tab","undefined",1),window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_apartment_tab","undefined",1),t(0)}),jQuery(document).on("click","#ibfc_btn_start_tour",function(e){e.preventDefault(),window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_settings_tab","undefined",1),window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_apartment_tab","undefined",1),t(0)}),jQuery(document).on("click","#ibfc_btn_start_tour2",function(e){e.preventDefault(),window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_settings_tab","undefined",1),window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_apartment_tab","undefined",1),t(1)}),jQuery(document).on("click",".indiebookin_tour_next_btn",function(t){jQuery(this).removeClass("indiebookin_tour_next_btn");var e=jQuery(this).data("data-tourclick");console.log(e),void 0!==e&&"undefined"!==e&&"true"===e||a.next()})});