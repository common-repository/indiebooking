function ibui_indiebooking_errorAdminDialog(e,t){"undefined"!=typeof t&&0!=t||(t=""),jQuery("body").append('<div id="errorDlg" class="ibui_widget ui-widget ui-dialog-content ui-widget-content"><h6>'+t+"</h6></div>");jQuery("#errorDlg").dialog({autoOpen:!1,modal:!0,title:e,zIndex:1e4,dialogClass:"indiebooking_admin_error_Dialog",resizable:!1,buttons:{OK:{text:"OK","class":"rs_ib_taxonomy_popup_btn",click:function(){jQuery("#errorDlg").dialog("close")}}},close:function(e,t){jQuery("#errorDlg").remove()}}),jQuery("#errorDlg").dialog("open")}function ibui_indiebooking_errorAdminIconDialog(e,t,a,n){"undefined"!=typeof t&&0!=t||(a=!1),"undefined"!=typeof t&&0!=t||(n=!1),a?iconClass="ib_dialog_false_icon":n?iconClass="ib_dialog_true_icon":iconClass="",jQuery("body").append('<div id="errorDlg" class="ibui_widget ui-widget ui-dialog-content ui-widget-content"><h6>'+t+'</h6><div class="'+iconClass+'"></div></div>');jQuery("#errorDlg").dialog({autoOpen:!1,modal:!0,title:e,zIndex:1e4,resizable:!1,buttons:{OK:{text:"OK","class":"rs_ib_taxonomy_popup_btn",click:function(){jQuery("#errorDlg").dialog("close")}}},close:function(e,t){jQuery("#errorDlg").remove()}}),jQuery("#errorDlg").dialog("open")}!function(){function e(){jQuery("#wpbody").append('<div id="yesNoDlg" class="ibui_widget rs_ib_taxonomy_popup"><div class="ibui_h2wrap"><h2 class="ibui_h2">'+global_admin_apartment_texts.nomoreimagestxt+"</h2></div></div>");jQuery("#yesNoDlg").dialog({autoOpen:!1,modal:!0,title:"",zIndex:1e4,resizable:!1,buttons:{SaveButton:{text:"OK","class":"rs_ib_taxonomy_popup_btn",click:function(){jQuery(this).dialog("close")}}},close:function(e,t){jQuery("#yesNoDlg").remove()}}),jQuery("#yesNoDlg").dialog("open")}function t(){var e=!0;if(1==global_admin_apartment_texts.limitimages&&jQuery("#rs_indiebooking_all_apartmewnt_count").length>0){var t=jQuery("#rs_apartment_images_container").find("li.image");t.length>=global_admin_apartment_texts.maximagecount&&(e=!1)}return e}function a(){0==t()&&jQuery(".add_apartment_images").addClass("ibui_indiebooking_not_clickable_btn"),jQuery("#rs_appartment_sortable_image_container").sortable({revert:!0,cursor:"move",deactivate:function(e,t){var a=[];jQuery("#rs_appartment_sortable_image_container").children("li.image").each(function(){a.push(jQuery(this).attr("data-attachment_id"))}),jQuery("#rs_apartment_image_gallery").val(a.toString())}}),jQuery("ul, li").disableSelection();var a,n=jQuery("#rs_apartment_image_gallery"),i=jQuery("#rs_apartment_images_container ul.apartment_images");jQuery(".add_apartment_images").on("click","a",function(o){var r=jQuery(this);if(o.preventDefault(),1==t()){if(a)return void a.open();a=wp.media.frames.product_gallery=wp.media({title:r.data("choose"),button:{text:r.data("update")},library:{type:["image"]},multiple:!0}),a.on("select",function(){var e=a.state().get("selection"),o=n.val(),_=jQuery(i).find(".attachment-thumbnail"),l=_.length;e.map(function(e){if((0==global_admin_apartment_texts.limitimages||l<global_admin_apartment_texts.maximagecount)&&(e=e.toJSON(),null!=e.subtype.match(/(jpeg|jpg|gif|png|ico)$/)&&e.id)){o=o?o+","+e.id:e.id;var a=e.sizes.thumbnail?e.sizes.thumbnail.url:e.url;i.append('<li class="image ui-state-default" data-attachment_id="'+e.id+'"><div class="ibui_imagegallery_profilradio"><input class="rs_ib_profile_picture_radio" type="radio" id="rs_ib_pp_radio_'+e.id+'" name="RS_IB_Apartment_Profilepicture" value="'+e.id+'"><span>Apartment Thumbnail</span></div><img src="'+a+'" /><a href="#" class="delete tips glyphicon glyphicon-remove" title="'+r.data("delete")+'"></a></li>'),l++,0==t()&&jQuery(".add_apartment_images").addClass("ibui_indiebooking_not_clickable_btn")}}),n.val(o)}),a.open()}else e()}),jQuery("#rs_apartment_images_container").on("click","a.delete",function(){jQuery(this).closest("li.image").remove();var e="";return jQuery("#rs_apartment_images_container ul li.image").css("cursor","default").each(function(){var t=jQuery(this).attr("data-attachment_id");e=e+t+","}),n.val(e),jQuery("#tiptip_holder").removeAttr("style"),jQuery("#tiptip_arrow").removeAttr("style"),1==t()&&jQuery(".add_apartment_images").removeClass("ibui_indiebooking_not_clickable_btn"),!1})}function n(){var e=jQuery("input.given_price");jQuery.each(e,function(e,t){i(t,"")})}function i(e,t){var a=jQuery(e).val(),n=jQuery("#cb_appartment_price_netto").is(":checked"),i=jQuery("#appartment_price_mwst").find(":selected").attr("data-mwst"),o=0,r=0,_=0;if(a=a.replace(",","."),i=String(i).replace(",","."),i=Number(i)/100,""===a&&(a=0),a>0&&(a=parseFloat(a),n?(o=a,r=o*(1+i)):(r=a,o=r/(1+i)),_=o*i,r=Math.round(100*r)/100,o=Math.round(100*o)/100,_=Math.round(100*_)/100),r=r.toFixed(2),o=o.toFixed(2),_=_.toFixed(2),r=String(r).replace(".",","),o=String(o).replace(".",","),_=String(_).replace(".",","),""!==t)var l=jQuery(e).closest(t).find("input.calculated_price"),c=jQuery(e).closest(t).find("input.calculated_tax");else{var u=jQuery(e).parent();"td"==u.prop("tagName").toLowerCase()&&(u=jQuery(u).parent());var l=jQuery(u).find("input.calculated_price"),c=jQuery(u).find("input.calculated_tax")}n?l.val(r):l.val(o),c.val(_)}function o(){var e=0,t=jQuery("#appartment_anzahl_einzel_betten").val(),a=jQuery("#appartment_anzahl_doppel_betten").val();e=parseInt(t)+2*parseInt(a),jQuery("#appartment_anzahl_betten").val(e),jQuery("#appartment_anzahl_betten_2").val(e)}var r=(function(){function e(){jQuery("#aktion_price").val(""),jQuery("#aktion_condition_value").val(""),jQuery("#appartment_aktion_type").val("1"),jQuery("#appartment_aktion_number_type").val("1"),jQuery("#appartment_aktion_calc_type").val("1"),jQuery("#appartment_aktion_condition_type").val("0"),jQuery("#cb_aktion_price_expel").prop("checked",!0),jQuery("#cb_aktion_combinable").prop("checked",!0),jQuery("#cb_aktion_combinable_coupon").prop("checked",!0),window.indiebookingGlobalAdminUiController.deselectAllCheckboxes("apartment_check_table");var e=jQuery("#dateTable_from_to_active tbody").find("tr");jQuery.each(e,function(){jQuery(this).remove()}),window.indiebookingGlobalAdminUiController.addTableZeitraumRow()}function t(){jQuery("#option_price").val(""),jQuery("#appartment_option_price_mwst").val("1"),jQuery("#appartment_option_calculation_type").val("0"),jQuery("#appartment_option_emergency_value").val("0"),jQuery("#cb_option_no_cancellation_fees").prop("checked",!1),jQuery("#ib_option_condition_type").val("0"),jQuery("#ib_option_condition_value").val("")}function a(){jQuery("#gutschein_code").val(""),jQuery("#gutschein_value").val("0"),jQuery("#gutschein_anzahl_spinner").val("1"),jQuery("#gutschein_condition_type").val("0"),jQuery("#gutschein_condition_value").val(""),jQuery("#cb_gutschein_combinable").prop("checked",!0),jQuery("#cb_gutschein_combinable_campaign").prop("checked",!0),jQuery("#cb_coupon_no_cancellation_fees").prop("checked",!0),jQuery("#cb_is_gutschein").prop("checked",!1),window.indiebookingGlobalAdminUiController.deselectAllCheckboxes("apartment_check_table"),jQuery("#apartment_check_table").find(".cb_apartment_check_table_all_active").prop("checked",!1),jQuery("#option_check_table").find(".cb_option_check_table_active").prop("checked",!1);var e=jQuery("#dateTable_from_to_active tbody").find("tr");jQuery.each(e,function(){jQuery(this).remove()}),window.indiebookingGlobalAdminUiController.addTableZeitraumRow()}jQuery(document).ajaxStart(function(e){jQuery(".appartment_action_admin_view").length>0?jQuery(".appartment_action_admin_view").hasClass("rs_ib_save_in_progress")&&jQuery(document).trigger("showHideLoadingContext",[!0]):jQuery(".appartment_option_admin_view").length>0?jQuery(".appartment_option_admin_view").hasClass("rs_ib_save_in_progress")&&jQuery(document).trigger("showHideLoadingContext",[!0]):jQuery(".appartment_gutschein_admin_view").length>0&&jQuery(".appartment_gutschein_admin_view").hasClass("rs_ib_save_in_progress")&&jQuery(document).trigger("showHideLoadingContext",[!0])}),jQuery(document).ajaxComplete(function(){var n="",i=!1;jQuery("#ajax-response").length>0&&jQuery("#ajax-response").find(".error").length>0&&(i=!0),jQuery(".appartment_action_admin_view").length>0?(n=".appartment_action_admin_view",i||jQuery(n).hasClass("rs_ib_save_in_progress")&&e()):jQuery(".appartment_option_admin_view").length>0?(n=".appartment_option_admin_view",i||jQuery(n).hasClass("rs_ib_save_in_progress")&&t()):jQuery(".appartment_gutschein_admin_view").length>0&&(n=".appartment_gutschein_admin_view",i||jQuery(n).hasClass("rs_ib_save_in_progress")&&a()),""!==n&&jQuery(n).hasClass("rs_ib_save_in_progress")&&(jQuery(document).trigger("showHideLoadingContext",[!1]),jQuery("html, body").animate({scrollTop:jQuery("#wpbody").offset().top},1e3),jQuery(n).removeClass("rs_ib_save_in_progress"))}),jQuery(document).ready(function(){jQuery("#addtag #submit").click(function(e){var t=validateForm("#addtag");if(t)jQuery(".appartment_action_admin_view").length>0?jQuery(".appartment_action_admin_view").addClass("rs_ib_save_in_progress"):jQuery(".appartment_option_admin_view").length>0?jQuery(".appartment_option_admin_view").addClass("rs_ib_save_in_progress"):jQuery(".appartment_gutschein_admin_view").length>0&&jQuery(".appartment_gutschein_admin_view").addClass("rs_ib_save_in_progress");else{var a=jQuery("#addtag").children(".form-invalid:first");jQuery("html, body").animate({scrollTop:jQuery(a).offset().top-20},1e3)}})})}(),function(){function e(e){var t=window.location.href,a="";if(t.indexOf("&rs_ib_openBookingDialog")!==-1&&(a=t.substring(0,t.indexOf("&rs_ib_openBookingDialog"))),"undefined"==typeof e||0==e||"undefined"==e)jQuery(document).trigger("showHideLoadingContext",[!0]),a.length>0?window.location=a:location.reload();else{var n=jQuery.ajax({type:"POST",url:indiebooking_admin_ajaxObject.ajaxURL,data:{action:"cancelBooking_admin",bookingId:e,security:indiebooking_admin_ajaxObject.ib_ajax_nonce},beforeSend:function(){jQuery(document).trigger("showHideLoadingContext",[!0])}});n.done(function(e,t,n){a.length>0?window.location=a:location.reload()}),n.fail(function(e,t,a){alert(a)}),n.always(function(e,t,a){})}}function t(e){var t=jQuery.ajax({type:"POST",url:indiebooking_admin_ajaxObject.ajaxURL,data:{action:"confirmInquiry",bookingId:e,security:indiebooking_admin_ajaxObject.ib_ajax_nonce},beforeSend:function(){jQuery(document).trigger("showHideLoadingContext",[!0])}});t.done(function(e,t,a){location.reload()}),t.fail(function(e,t,a){alert(a),jQuery(document).trigger("showHideLoadingContext",[!1])}),t.always(function(e,t,a){jQuery(document).trigger("showHideLoadingContext",[!1])})}function a(e){var t=jQuery.ajax({type:"POST",url:indiebooking_admin_ajaxObject.ajaxURL,data:{action:"confirmPayment",bookingId:e,security:indiebooking_admin_ajaxObject.ib_ajax_nonce},beforeSend:function(){jQuery(document).trigger("showHideLoadingContext",[!0])}});t.done(function(e,t,a){location.reload()}),t.fail(function(e,t,a){alert(a),jQuery(document).trigger("showHideLoadingContext",[!1])}),t.always(function(e,t,a){})}function n(e){var t=jQuery.ajax({type:"POST",url:indiebooking_admin_ajaxObject.ajaxURL,data:{action:"confirmDepositPayment",bookingId:e,security:indiebooking_admin_ajaxObject.ib_ajax_nonce},beforeSend:function(){jQuery(document).trigger("showHideLoadingContext",[!0])}});t.done(function(e,t,a){location.reload()}),t.fail(function(e,t,a){alert(a),jQuery(document).trigger("showHideLoadingContext",[!1])}),t.always(function(e,t,a){})}return{cancelBooking:e,confirmBookingInquiry:t,confirmBookingPayment:a,confirmBookingDepositPayment:n}}()),_=(function(){function e(e){var t=jQuery.ajax({type:"POST",url:indiebooking_admin_ajaxObject.ajaxURL,data:{action:"changeIndiebookingAllowUsingStatistic",allowStatistic:e,security:indiebooking_admin_ajaxObject.ib_ajax_nonce},beforeSend:function(){jQuery(document).trigger("showHideLoadingContext",[!0])}});t.done(function(e,t,a){}),t.fail(function(e,t,a){var n=e.responseJSON.data.MSG;ibui_indiebooking_errorAdminDialog(a,n)}),t.always(function(e,t,a){jQuery(document).trigger("showHideLoadingContext",[!1])})}function t(){var e=jQuery.ajax({type:"POST",url:indiebooking_admin_ajaxObject.ajaxURL,data:{action:"showIndiebookingWelcomeBanner",security:indiebooking_admin_ajaxObject.ib_ajax_nonce},beforeSend:function(){jQuery(document).trigger("showHideLoadingContext",[!0])}});e.done(function(e,t,a){location.reload()}),e.fail(function(e,t,a){jQuery(document).trigger("showHideLoadingContext",[!1]),alert(a)})}function a(){var e=jQuery.ajax({type:"POST",url:indiebooking_admin_ajaxObject.ajaxURL,data:{action:"resetIndiebookingWelcomeBanner",security:indiebooking_admin_ajaxObject.ib_ajax_nonce},beforeSend:function(){jQuery(document).trigger("showHideLoadingContext",[!0])}});e.done(function(e,t,a){jQuery("#rs_ib_admin_hello_view_box").hide(),jQuery("#showWelcomeBannerKz").length&&(jQuery("#showWelcomeBannerKz").val("off"),jQuery("#showWelcomeBannerKz").prop("checked",!1),jQuery("#showWelcomeBannerKz").parent("div.ibui_switchbtn").removeClass("ibui_switchbtn_active"))}),e.fail(function(e,t,a){alert(a)}),e.always(function(e,t,a){jQuery(document).trigger("showHideLoadingContext",[!1])})}jQuery(document).ready(function(){jQuery("#rs_indiebooking_dont_show_welcome_again").on("click",function(e){a()}),jQuery("#showWelcomeBannerKz").on("change",function(){var e=jQuery("#showWelcomeBannerKz").is(":checked");e?t():a()}),jQuery("#allowUsingStatisticsKz_welcome").on("change",function(){var t=jQuery(this).is(":checked");e(t)})})}(),function(){function e(e,t){var a,n=[],i=!1;if("undefined"!=typeof e&&"undefined"!=e||(e=!1),"undefined"!=typeof t&&"undefined"!=t||(t=e),jQuery(e).closest("#appartment_saisonprice_boxes").length>0&&e!==!1){var o=jQuery(e).closest(".rs_ib_saisonpreis_box");a=jQuery(o).find(".rs_ib_floating_datepicker_container"),i=!0}else jQuery(e).closest("#apartment_not_bookable_table").length>0&&e!==!1?(i=!1,a=jQuery("#apartment_not_bookable_table").find(".rs_ib_floating_datepicker_container")):jQuery(e).closest(".admin_booking_apartment_box").length>0&&e!==!1?jQuery(e).closest(".admin_booking_apartment_box").find(".rs_ib_floating_datepicker_container"):jQuery(e).closest(".dateTable_from_to_active").length>0&&e!==!1?a=jQuery(e).closest(".dateTable_from_to_active").find(".rs_ib_floating_datepicker_container"):(i=!1,a=jQuery(".rs_ib_floating_datepicker_container"));return jQuery(a).each(function(){if(!i||!jQuery(this).hasClass("rs_ib_display_none")){var a={},o=jQuery(this).find("input.rs_ib_floating_datepicker_from"),r=jQuery(this).find("input.rs_ib_floating_datepicker_to");jQuery(e).is(o)||jQuery(t).is(r)||(a.from=o.val(),a.to=r.val(),n.push(a))}}),n}function t(t,n){var i=2,o=0,r=!0;if("undefined"==typeof n||"undefined"==n)n=!1;else{var _=new Date;o=_.getFullYear()}var l=!0,c=jQuery(t).attr("data-old_days_visibility");"undefined"!=typeof c&&c!==!1&&(r="disable"==c);var u=[],s=jQuery(t).attr("data-arrivaldays");jQuery(t).rs_ib_floating_datepicker({numberOfMonths:i,yearless:n,yearlessYear:o,beforeClose:function(t,a,i){t=jQuery("#"+t.attr("id"));var o=jQuery(t).closest(".rs_ib_floating_datepicker_container").find("input.rs_ib_floating_datepicker_from"),r=jQuery(t).closest(".rs_ib_floating_datepicker_container").find("input.rs_ib_floating_datepicker_to"),_=t.data("unavailableDates"),l=[];l=e(o,r),_=window.indiebookingDateUtil.getInstance().getInDatelineArray(l),n&&(a=a.substring(0,5),i=i.substring(0,5));var c=window.indiebookingDateUtil.getInstance().checkDatesInUnavailableDates(a,i,_);if(!c){jQuery(o).val(""),jQuery(r).val("");var u=jQuery(t).find(".rs_ib_calendar_data_container");jQuery(u).each(function(){jQuery(this).data("firstdate",""),jQuery(this).data("lastdate","")})}return c},beforeShow:function(t,r){if(jQuery(t).closest(".admin_booking_apartment_box").length){var _=jQuery(t).closest(".rs_ib_floating_datepicker_container"),l=jQuery(_).attr("data-booked"),c=jQuery(_).attr("data-arrivaldays"),s=jQuery(_).attr("data-notbookabledates"),d=_.attr("data-old_days_visibility");if(d="undefined"!=typeof d&&d!==!1&&"visible"==d,s="undefined"!=typeof s&&s!==!1?JSON.parse(s):[],l=jQuery(_).attr("data-booked"),l=JSON.parse(l),"undefined"!=typeof l&&l!==!1){h=getZabutoInDatelineArray(l,"bookeddisabled","booked",u,c,"","","",i,d),h=getZabutoInDatelineArray(s,"notbookable","notbookable",h,c,"","","",i,d);var p=jQuery(r).find(".zabuto_calendar");jQuery(p).each(function(){var e=jQuery(this).closest(".rs_ib_calendar_data_container"),t="#"+jQuery(e).attr("id"),a=jQuery(t);jQuery(a.data("refreshZabuto")(h))})}}else{var b=(jQuery(".rs_ib_floating_datepicker_container"),[]),y=[],m=null,g=null;if(jQuery(t).hasClass("rs_ib_floating_datepicker_to")?(g=t,m=jQuery(g).closest(".rs_ib_floating_datepicker_container").find(".rs_ib_floating_datepicker_from")):jQuery(t).hasClass("rs_ib_floating_datepicker_from")&&(m=t,g=jQuery(m).closest(".rs_ib_floating_datepicker_container").find(".rs_ib_floating_datepicker_to")),null!=m){var j=jQuery(m).val();n&&j.length>3&&(j=j+"."+o)}if(null!=g){var f=jQuery(g).val();n&&f.length>3&&(f=f+"."+o)}if("undefined"==typeof j&&(j=""),"undefined"==typeof f&&(f=""),""!=j||""!=f){var Q=jQuery(r).find(".rs_ib_calendar_data_container");""!=j&&(j=a(j)),""!=f&&(f=a(f)),jQuery.each(Q,function(){var e="#"+jQuery(this).attr("id"),t=jQuery(e);jQuery(t).data("firstdate",j),jQuery(t).data("lastdate",f)})}y=e(t,t),b=window.indiebookingDateUtil.getInstance().getInDatelineArray(y);var v=jQuery(t).closest(".rs_ib_floating_datepicker_container").find("div.rs_ib_floating_calender_popup_container");v=jQuery("#"+v.attr("id")),v.data("unavailableDates",b);var l=!1,c=!1,h=[],k=new Date,x=k.getFullYear();jQuery(b).each(function(){var e={},t="",a=new Date(this),i=a.getMonth()+1,o=a.getDate();i<10&&(i="0"+i),o<10&&(o="0"+o),t=n?x+"-"+i+"-"+o:a.getFullYear()+"-"+i+"-"+o,e.classname="notbookable",e.badge=!1,e.date=t,e.label="notavailable",h.push(e)});var w=[];if(jQuery(t).closest("#apartment_not_bookable_table").length){var C=jQuery(t).closest("#apartment_not_bookable_table");l=jQuery(C).attr("data-booked"),c=jQuery(C).attr("data-arrivaldays");"undefined"!=typeof y&&y!==!1&&jQuery(y).each(function(e,t){var a={},n=t.from,i=n.substr(0,2),o=n.substr(3,2),r=n.substr(6,9),_=r+"-"+o+"-"+i,l=t.to;i=l.substr(0,2),o=l.substr(3,2),r=l.substr(6,9);var c=r+"-"+o+"-"+i;a.date_from=_,a.date_to=c,w.push(a)}),jQuery(C).attr("data-notbookabledates",JSON.stringify(w))}if(h.length>0){if(0!=l&&(l=JSON.parse(l),"undefined"!=typeof l&&l!==!1)){var d=!1;h=getZabutoInDatelineArray(l,"bookeddisabled","booked",u,c,"","","",i,d),h=getZabutoInDatelineArray(w,"notbookable","notbookable",h,c,"","","",i,d)}var p=jQuery(r).find(".zabuto_calendar");jQuery(p).each(function(){var e=jQuery(this).closest(".rs_ib_calendar_data_container"),t="#"+jQuery(e).attr("id"),a=jQuery(t);jQuery(a.data("refreshZabuto")(h))})}}},zabuto_options:{show_days:!0,language:"de",disable_old_days:r,enable_all_days:!0,enable_date_picker:!0,sync_date_picker:l,arrivalDays:s,is_popup_floating_calendar:!0,calendarGroup:jQuery(t).attr("class"),action_nav:function(){return myNavFunction(this.id)},action:function(){},action_refresh_date_data:function(e,t){var a=jQuery(e.getHTMLCalendarObject()).closest(".rs_ib_floating_datepicker_container"),n=jQuery(a).attr("data-booked"),o=jQuery(a).attr("data-arrivaldays"),r=jQuery(a).attr("data-notbookabledates"),_=a.attr("data-old_days_visibility");if(n=jQuery(a).attr("data-booked"),jQuery(a).closest("#apartment_not_bookable_table").length){var l=jQuery(a).closest("#apartment_not_bookable_table");n=jQuery(l).attr("data-booked"),o=jQuery(l).attr("data-arrivaldays"),r=jQuery(l).attr("data-notbookabledates"),_=!1}if(_="undefined"!=typeof _&&_!==!1&&"visible"==_,r="undefined"!=typeof r&&r!==!1?JSON.parse(r):[],"undefined"!=typeof n&&n!==!1&&"undefined"!=n&&""!=n&&(n=JSON.parse(n),"undefined"!=typeof n&&n!==!1)){data=getZabutoInDatelineArray(n,"bookeddisabled","booked",u,o,"","",t,i,_),data=getZabutoInDatelineArray(r,"notbookable","notbookable",data,o,"","",t,i,_);var c=jQuery(a).find(".zabuto_calendar");jQuery(c).each(function(){var e=jQuery(this).closest(".rs_ib_calendar_data_container"),t="#"+jQuery(e).attr("id"),a=jQuery(t);jQuery(a.data("refreshZabuto")(data))})}},action_afterdraw:function(e){},action_design_event_day:function(e){}}})}function a(e){var t=e.match(/(\d+)/g);return new Date(t[2],t[1]-1,t[0])}return{registerZabutoDatepicker:t,rs_indiebooking_zabuto_parseDate:a}}());window.indiebookingAdminZabutoController||(window.indiebookingAdminZabutoController=_);var l=function(){function e(e,t,a){var n=new Date;n.setDate(n.getDate()+a);var i=escape(t)+(null==a?"":"; expires="+n.toUTCString());document.cookie=e+"="+i}function t(e){var t,a,n,i=document.cookie.split(";");for(t=0;t<i.length;t++)if(a=i[t].substr(0,i[t].indexOf("=")),n=i[t].substr(i[t].indexOf("=")+1),a=a.replace(/^\s+|\s+$/g,""),a==e)return unescape(n)}function a(e){var t=jQuery("#"+e).find("tbody"),a=jQuery(this).closest("table"),n=a.find("input.cb_apartment_check_table_all_active_kz"),i=a.find("input.cb_apartment_check_table_all_active");n.val("off"),i.prop("checked",!1),t.find("input.cb_apartment_check_table_active").prop("checked",!1),t.find("input.cb_apartment_check_table_active_kz").val("off")}function n(e){var t=e.rows.length;if(t>1){var a=e.rows[1],n=jQuery(a.cells.item(0)).find("input").val(),i=jQuery(a.cells.item(1)).find("input").val();return""!==n&&""!==i}return!0}function i(e,t,a,n){"undefined"!=typeof t&&"undefined"!==t||(t=""),"undefined"!=typeof a&&"undefined"!==a||(a=""),"undefined"!=typeof n&&"undefined"!==n||(n="off",jQuery(e).hasClass("ibfc_default_active_table")&&(n="on"));var i=document.getElementById(e.attr("id")),o=i.insertRow(1);o.className="dates_table_row rs_ib_floating_datepicker_container";var r=o.insertCell(0),_=o.insertCell(1),l=o.insertCell(2),c=o.insertCell(3),u="",s=1e3*Math.random();s=s.toString(),s=s.replace(".",""),s="cb"+s,r.className="dateColumn tableInput",_.className="dateColumn tableInput",l.className="cbColumn tableInput",t="value='"+t+"'",a="value='"+a+"'","on"==n&&(u="checked='checked'"),r.innerHTML="<input type='text' name='date_from[]'"+t+" class='rs_ib_floating_datepicker rs_ib_floating_datepicker_from form_icon icon_kalender rewa_datepicker'>",_.innerHTML="<input type='text' name='date_to[]'"+a+" class='rs_ib_floating_datepicker rs_ib_floating_datepicker_to form_icon icon_kalender rewa_datepicker'>",l.innerHTML="<input id="+s+" class='ibui_checkbox cb_date_table_active' type='checkbox' name='cb_dates_active' "+u+'><label for="'+s+"\">&nbsp;</label><input class='cb_date_table_active_kz' type='hidden' name='cb_dates_active_kz[]' value='"+n+"'>",c.innerHTML='<a class=\'appartment_btn_remove_zeitraum ibui_iconbtn\'><span class="glyphicon glyphicon-minus-sign ibui_iconbtn_red" aria-hidden="true"></span></a>',window.indiebookingAdminZabutoController.registerZabutoDatepicker(o)}function o(){var e=t("ibui_last_settings_tab");if("undefined"!=typeof e&&"undefined"!==e){var a=jQuery("#rs_ib_admin_settings_view").find("#"+e);a.length>0&&jQuery(a).prop("checked",!0)}else{var n=t("ibui_last_apartment_tab");a=jQuery("#ibfc_apartment_tab_container").find("#"+n),a.length>0&&jQuery(a).prop("checked",!0)}}return jQuery(document).ready(function(){o(),jQuery("#toplevel_page_rs_indiebooking").on("click","a",function(){window.indiebookingGlobalAdminUiController.rs_indiebooking_setCookie("ibui_last_settings_tab","undefined",1),e("ibui_last_apartment_tab","undefined",1)}),jQuery("#ibfc_apartment_tab_container .ibui_tab_radio").on("change",function(){var t=jQuery(".ibui_tab_radio:checked").attr("id");e("ibui_last_apartment_tab",t,1)})}),{addTableZeitraumRow:i,checkLastEntry:n,deselectAllCheckboxes:a,rs_indiebooking_setCookie:e}}();window.indiebookingGlobalAdminUiController||(window.indiebookingGlobalAdminUiController=l),jQuery(document).ready(function(e){function t(e){var t={},a=!1;t.titel=jQuery(e).find("#kontakt_title").val().trim(),t.firma=jQuery(e).find("#kontakt_firma").val().trim(),t.abteilung=jQuery(e).find("#kontakt_abteilung").val().trim(),t.anrede=jQuery(e).find("#kontakt_anrede").val().trim(),t.name=jQuery(e).find("#kontakt_name").val().trim(),t.firstName=jQuery(e).find("#kontakt_first_name").val().trim(),t.strasse=jQuery(e).find("#route").val().trim(),t.ort=jQuery(e).find("#locality").val().trim(),t.plz=jQuery(e).find("#postal_code").val().trim(),t.strasseNr=jQuery(e).find("#street_number").val().trim(),t.country=jQuery(e).find("#country").val().trim(),t.email=jQuery(e).find("#kontakt_email").val().trim(),t.telefon=jQuery(e).find("#kontakt_telefon").val().trim(),jQuery("#useAlternateBillingAdressCb").is(":checked")&&(a=!0),t.altAdress=a,t.titel2=jQuery(e).find("#kontakt_title2").val().trim(),t.firma2=jQuery(e).find("#kontakt_firma2").val().trim(),t.abteilung2=jQuery(e).find("#kontakt_abteilung2").val().trim(),t.anrede2=jQuery(e).find("#kontakt_anrede2").val().trim(),t.name2=jQuery(e).find("#kontakt_name2").val().trim(),t.firstName2=jQuery(e).find("#kontakt_first_name2").val().trim(),t.strasse2=jQuery(e).find("#route2").val().trim(),t.ort2=jQuery(e).find("#locality2").val().trim(),t.plz2=jQuery(e).find("#postal_code2").val().trim(),t.strasseNr2=jQuery(e).find("#street_number2").val().trim(),t.country2=jQuery(e).find("#country2").val().trim(),t.email2=jQuery(e).find("#kontakt_email2").val().trim(),t.telefon2=jQuery(e).find("#kontakt_telefon2").val().trim();var n=jQuery(e).attr("data-postId"),i=jQuery(e).find(".ibui_newbookingtable_contantdata").attr("data-bookingnumber"),o=jQuery.ajax({type:"POST",url:indiebooking_admin_ajaxObject.ajaxURL,data:{action:"updateBookingContactData",bookingNumber:i,bookingPostId:n,contactData:t,security:indiebooking_admin_ajaxObject.ib_ajax_nonce},beforeSend:function(){jQuery(document).trigger("showHideLoadingContext",[!0])}});o.done(function(e,t,a){location.reload()}),o.fail(function(e,t,a){alert(a)}),o.always(function(e,t,a){})}if(jQuery(".rs_ib_floating_datepicker_container").length){var _=jQuery(".rs_ib_floating_datepicker_container");jQuery.each(_,function(){jQuery(this).hasClass("ibfk_yearless_floating_datepicker")?window.indiebookingAdminZabutoController.registerZabutoDatepicker(this,!0):window.indiebookingAdminZabutoController.registerZabutoDatepicker(this)})}if(jQuery("#rs_indiebooking_datenschutz_dialog").dialog({autoOpen:!1,modal:!0,height:550,width:600,title:jQuery("#rs_indiebooking_datenschutz_dialog").attr("data-dialogTitle"),zIndex:1e4,buttons:{SaveButton:{text:"OK","class":"rs_ib_taxonomy_popup_btn",click:function(){jQuery(this).dialog("close")}}}}),jQuery(document).on("click","#rs_indiebooking_show_datenschutz",function(){jQuery("#rs_indiebooking_datenschutz_dialog").dialog("open")}),jQuery(document).on("click",".rs_ib_profile_picture_radio",function(){var e=jQuery("input[name=RS_IB_Apartment_Profilepicture]:checked");jQuery("#rs_apartment_image_profile_picture").val(e.val())}),jQuery("#rs_indiebooking_no_more_apartment_dlg").length>0){jQuery("#wpbody").append('<div id="yesNoDlg" class="ibui_widget rs_ib_taxonomy_popup"><div class="ibui_h2wrap"><h2 class="ibui_h2">'+global_admin_apartment_texts.nomoreapartmentscontent+"</h2></div></div>");jQuery("#yesNoDlg").dialog({autoOpen:!1,modal:!0,title:global_admin_apartment_texts.nomoreapartmentstitle,zIndex:1e4,resizable:!1,buttons:{SaveButton:{text:"OK","class":"rs_ib_taxonomy_popup_btn",click:function(){jQuery(this).dialog("close")}}},close:function(e,t){location.href=global_admin_links.apartmentuebersichturl}}),jQuery("#yesNoDlg").dialog("open")}jQuery("#rs-indiebooking-custom-publish-btn").on("click",function(e){e.preventDefault(),jQuery("#publish").click()}),jQuery("#appartment_payment_info_container").on("click",".toggle-box .toggle",function(e){e.preventDefault();var t=jQuery(this).closest(".toggle-box").find(".content"),a="";a=jQuery(t).is(":visible")?jQuery(this).attr("data-txtOpen"):jQuery(this).attr("data-txtClose"),jQuery(this).html(a),jQuery(this).closest(".toggle-box").find(".content").slideToggle()}),jQuery("#appartment_payment_info_container").on("click",".appartment_btn_remove_saison",function(e){e.preventDefault();var t=jQuery(this).closest(".rs_ib_saisonpreis_box");jQuery(t).remove()}),jQuery("#appartment_price_dates").on("change",".price_datepicker",function(e){var t=jQuery(this).closest(".appartment_price_table_row"),a=0,n=0,i=0,o=0,r=0,_=0,l=2016,c=null;if(jQuery(this).hasClass("price_date_from")?(a=jQuery(this).val(),c=jQuery(t).find(".price_date_to"),n=jQuery(c).val()):jQuery(this).hasClass("price_date_to")&&(c=jQuery(this),n=jQuery(this).val(),a=jQuery(t).find(".price_date_from").val()),""!=n&&(r=n.substr(0,2),_=n.substr(3,2),_=parseInt(_)-1,i=new Date(l,_,r),console.log(i)),""!=a&&(r=a.substr(0,2),_=a.substr(3,2),_=parseInt(_)-1,o=new Date(l,_,r)),0!=i&&0!=o&&i<=o){alert("Zeitraum bis muss größer Zeitraum von sein!");var u=i;console.log(u),u.setDate(u.getDate()+1),jQuery(c).datepicker("setDate",u)}}),jQuery("#appartment_price_dates").on("change",".price_yeardropdown",function(e){var t=jQuery(this).val(),a=jQuery(this),n=!0,i=jQuery(".price_yeardropdown"),o=jQuery(this).data("previous");if(jQuery.each(i,function(e,i){if(!jQuery(a).is(jQuery(i))&&t==jQuery(i).val())return n=!1,alert("Sie haben bereits eine Saison die ab "+t+" gültig ist angelegt."),!1}),n){var r=jQuery(this).closest(".rs_ib_saisonpreis_box").find(".appartment_years_indipendent_prices_table"),_=jQuery(r).find("input[name='price_date_valid_from[]']");jQuery(_).val(t),jQuery(this).data("previous",jQuery(this).val())}else jQuery(this).val(o),jQuery(this).data("previous",o)}),jQuery("#delete_pdf_img-btn").on("click",function(e){e.preventDefault(),jQuery("#option_image_id").val(""),jQuery("#rs_ib_pdf_logo_container").html(""),jQuery("#delete_pdf_img-btn").hide()}),jQuery("#appartment_btn_insert_company_infos").on("click",function(e){var t=jQuery.ajax({type:"POST",url:indiebooking_admin_ajaxObject.ajaxURL,data:{action:"getCompanyInfos",security:indiebooking_admin_ajaxObject.ib_ajax_nonce}});t.done(function(e,t,a){console.log(e),jQuery("#appartment_street").val(e.data.companyStreet),jQuery("#appartment_zip_code").val(e.data.company_zip_code),jQuery("#appartment_location").val(e.data.companyLocation),jQuery("#appartment_latitude").val(e.data.latitude),jQuery("#appartment_longitude").val(e.data.longitude)}),t.fail(function(e,t,a){alert(a)})}),jQuery("#upload_pdf_img-btn").on("click",function(e){e.preventDefault();var t=jQuery(this),a=wp.media({title:t.data("choose"),button:{text:t.data("update")},library:{type:["image"]},multiple:!1});a.on("select",function(e){jQuery("#rs_ib_pdf_logo_container").html("");var t=a.state().get("selection").first(),n=t.toJSON(),i=n.subtype;if(null!=i.match(/(jpeg|jpg|gif|png|ico)$/)){var o=n.url,r=n.id;jQuery("#option_image_id").val(r),jQuery("#rs_ib_pdf_logo_container").append('<img class="rs_ib_pdf_logo" src="'+o+'" />'),jQuery("#delete_pdf_img-btn").show()}}),a.open()}),jQuery("#upload_icon_img-btn").on("click",function(e){console.log("hihi"),e.preventDefault();var t=jQuery(this),a=wp.media({title:t.data("choose"),button:{text:t.data("update")},states:[new wp.media.controller.Library({title:t.data("choose"),filterable:"all",multiple:!1})]});a.on("select",function(e){jQuery("#rs_ib_icon_logo_container").html("");var t=a.state().get("selection").first(),n=t.toJSON(),i=n.url,o=n.id;jQuery("#pageicon_image_id").val(o),jQuery("#rs_ib_icon_logo_container").append('<img class="rs_ib_icon_logo" src="'+i+'" />'),jQuery("#delete_icon_img-btn").show()}),a.open()}),jQuery("#delete_icon_img-btn").on("click",function(e){e.preventDefault(),jQuery("#rs_ib_icon_logo_container").html(""),jQuery("#pageicon_image_id").val(""),jQuery("#delete_icon_img-btn").hide()}),jQuery(".ibui_tooltip_item").tooltipster({theme:["tooltipster-borderless","tooltipster-ibuitooltip"]}),jQuery("#appartment_anzahl_einzel_betten").spinner({max:99,min:0,alignment:"horizontal",spin:function(e,t){jQuery("#appartment_anzahl_einzel_betten").val(t.value),o()}}),jQuery("#appartment_anzahl_doppel_betten").spinner({max:99,
min:0,alignment:"horizontal",spin:function(e,t){jQuery("#appartment_anzahl_doppel_betten").val(t.value),o()}}),jQuery("#appartment_anzahl_einzel_betten").on("change",function(){o()}),jQuery("#appartment_anzahl_einzel_betten").on("spin",function(){o()}),jQuery("#appartment_anzahl_doppel_betten").on("change",function(){o()}),jQuery("#appartment_anzahl_doppel_betten").on("spin",function(){o()}),jQuery("#testbtntooltip").on("click",function(){jQuery("#testtooltip").tooltip("show")}),jQuery(".settings_admin_number_spinner").spinner({min:0,alignment:"horizontal"}),jQuery("#appartment_anzahl_zimmer").spinner({max:99,min:0,alignment:"horizontal"}),jQuery("#appartment_anzahl_personen").spinner({max:99,min:0,alignment:"horizontal",stop:function(e,t){var a=jQuery(this).val(),n=jQuery("#appartment_anzahl_personen_vorbelegung").find("option"),i=0,o=!1;jQuery(n).each(function(e,t){i=parseInt(jQuery(t).attr("value")),i>parseInt(a)&&(o=!0,jQuery(this).remove())}),0==o&&jQuery("#appartment_anzahl_personen_vorbelegung").append(jQuery("<option>",{value:parseInt(a),text:parseInt(a)}))}}),jQuery("#appartment_min_date_range").spinner({max:99,min:0,alignment:"horizontal"}),jQuery("#appartment_price").on("keyup",function(){var e=jQuery(this).closest("#default_price_container");i(jQuery(this),e)}),jQuery("#appartment_price_mwst").on("change",function(){n()}),jQuery("#cb_appartment_price_netto").on("change",function(){var e=jQuery("#cb_appartment_price_netto").is(":checked");e?(jQuery(".appartment_net_price_label").show(),jQuery(".appartment_gross_price_label").hide(),jQuery(".appartment_net_price_label2").hide(),jQuery(".appartment_gross_price_label2").show(),jQuery("#cb_appartment_price_netto_kz").val("on")):(jQuery(".appartment_net_price_label").hide(),jQuery(".appartment_gross_price_label").show(),jQuery(".appartment_net_price_label2").show(),jQuery(".appartment_gross_price_label2").hide(),jQuery("#cb_appartment_price_netto_kz").val("off")),n()}),jQuery("#cb_option_no_cancellation_fees").on("change",function(){var e=jQuery("#cb_option_no_cancellation_fees").is(":checked");e?jQuery("#rs_option_no_cancellation_fees").val("true"):jQuery("#rs_option_no_cancellation_fees").val("false")}),jQuery("#cb_option_duty_option").on("change",function(){var e=jQuery("#cb_option_duty_option").is(":checked");e?jQuery("#rs_option_duty_option").val("true"):jQuery("#rs_option_duty_option").val("false")}),jQuery("#cb_coupon_no_cancellation_fees").on("change",function(){var e=jQuery("#cb_coupon_no_cancellation_fees").is(":checked");e?jQuery("#rs_coupon_no_cancellation_fees").val("true"):jQuery("#rs_coupon_no_cancellation_fees").val("false")}),jQuery("#appartment_btn_add_unable_zeitraum").on("click",function(e){e.preventDefault();var t=document.getElementById("apartment_not_bookable_table");if(window.indiebookingGlobalAdminUiController.checkLastEntry(t)){var a=t.insertRow(1);a.className="appartment_not_bookable_table_row rs_ib_floating_datepicker_container";var n=a.insertCell(0),i=a.insertCell(1),o=a.insertCell(2);n.className="",i.className="",o.className="",o.style.textAlign="center",o.style.width="50px",n.innerHTML="<input class='rs_ib_floating_datepicker rs_ib_floating_datepicker_from form_icon icon_kalender rewa_datepicker' name='rs_ib_not_bookable_periods_from[]' value=''>",i.innerHTML="<input class='rs_ib_floating_datepicker rs_ib_floating_datepicker_to form_icon icon_kalender rewa_datepicker' name='rs_ib_not_bookable_periods_to[]' value=''>",o.innerHTML="<a class='appartment_btn_remove_zeitraum ibui_iconbtn'><span class='glyphicon glyphicon-minus-sign ibui_iconbtn_red' aria-hidden='true'></span></a>",window.indiebookingAdminZabutoController.registerZabutoDatepicker(a)}}),jQuery("#appartment_booking_infos").on("click","#activate_varying_price",function(e){jQuery(this).is(":checked")?(jQuery(".varying_price").prop("disabled",!1),jQuery(this).val(1)):(jQuery(".varying_price").prop("disabled",!0),jQuery(this).val(0))}),jQuery("#appartment_booking_infos").on("click",".appartment_btn_remove_zeitraum",function(e){e.preventDefault();var t=jQuery(this).closest("tbody"),a=jQuery(t).find("tr"),n=jQuery(this).closest("tr");a.length>1?n.remove():jQuery(n).find("input").val("")}),jQuery(".dateTable_from_to_active").on("change",".cb_date_table_active",function(e){var t=jQuery(this).is(":checked"),a=jQuery(this).closest("td").find("input.cb_date_table_active_kz");t?a.val("on"):a.val("off")}),jQuery(".dateTable_from_to_active").on("click",".dateTable_btn_add_zeitraum",function(e){e.preventDefault();var t=jQuery(this).closest("table");window.indiebookingGlobalAdminUiController.addTableZeitraumRow(t)}),jQuery(".dateTable_from_to_active").on("click",".appartment_btn_remove_zeitraum",function(e){e.preventDefault();var t=jQuery(this).closest("tr");t.remove()}),jQuery("#dateTable_btn_add_zeitraum").on("click",function(e){e.preventDefault();var t=jQuery("#dataTable_from_to_active");window.indiebookingGlobalAdminUiController.addTableZeitraumRow(t)}),jQuery("#dateTable_from_to_active").on("click",".appartment_btn_remove_zeitraum",function(e){e.preventDefault();var t=jQuery(this).closest("tr");t.remove()}),jQuery(".cb_apartment_check_table_active").on("change",function(){var e=jQuery(this).is(":checked"),t=jQuery(this).closest("td").find("input.cb_apartment_check_table_active_kz");if(e)t.val("on");else{t.val("off");var a=jQuery(this).closest("table").find("thead"),n=jQuery(this).closest("table").find("tfoot");a.find("input.cb_apartment_check_table_all_active").prop("checked",!1),a.find("input.cb_apartment_check_table_all_active_kz").val("off"),n.find("input.cb_apartment_check_table_all_active").prop("checked",!1),n.find("input.cb_apartment_check_table_all_active_kz").val("off")}}),jQuery(".cb_apartment_check_table_duty_active").on("change",function(){var e=jQuery(this).is(":checked"),t=jQuery(this).closest("td").find("input.cb_apartment_check_table_duty_active_kz");e?t.val("on"):t.val("off")}),jQuery(".cb_apartment_check_table_all_active").on("change",function(){var e=jQuery(this).is(":checked"),t=jQuery(this).closest("table").find("tbody"),a=jQuery(this).closest("table"),n=a.find("input.cb_apartment_check_table_all_active_kz"),i=a.find("input.cb_apartment_check_table_all_active");e?(n.val("on"),i.prop("checked",!0),t.find("input.cb_apartment_check_table_active").prop("checked",!0),t.find("input.cb_apartment_check_table_active_kz").val("on")):(n.val("off"),i.prop("checked",!1),t.find("input.cb_apartment_check_table_active").prop("checked",!1),t.find("input.cb_apartment_check_table_active_kz").val("off"))}),jQuery("#appartment_option_calculation_type").on("change",function(){}),jQuery(".cb_option_check_table_active").on("change",function(){var e=jQuery(this).is(":checked"),t=jQuery(this).closest("td").find("input.cb_option_check_table_active_kz");e?t.val("on"):t.val("off")}),jQuery("#cb_gutschein_combinable").on("change",function(){var e=jQuery("#cb_gutschein_combinable").is(":checked");e?jQuery("#cb_gutschein_combinable_kz").val("on"):jQuery("#cb_gutschein_combinable_kz").val("off")}),jQuery("#cb_is_gutschein").on("change",function(){var e=jQuery("#cb_is_gutschein").is(":checked");e?jQuery("#cb_is_gutschein_kz").val("on"):jQuery("#cb_is_gutschein_kz").val("off")}),jQuery("#cb_gutschein_combinable_campaign").on("change",function(){var e=jQuery("#cb_gutschein_combinable_campaign").is(":checked");e?jQuery("#cb_gutschein_combinable_campaign_kz").val("on"):jQuery("#cb_gutschein_combinable_campaign_kz").val("off")}),jQuery("#appartment_book_table").on("change",".date_price",function(){i(jQuery(this),"tr")}),jQuery("#appartment_book_table").on("keyup",".date_price",function(){i(jQuery(this),"tr")}),jQuery("#appartment_booking_dates").on("click",".appartment_btn_remove_zeitraum",function(e){e.preventDefault();var t=jQuery(this).closest("tr");t.remove()}),jQuery(".settings_table").on("click",".rs_ib_btn_remove_row",function(e){e.preventDefault();var t=jQuery(this).closest("tr"),a=jQuery(this).closest("tbody").find("tr");a.length<=1?jQuery(t).find("input").val(""):t.remove()}),jQuery("#btnPrintBuchungsbestaetigung").on("click",function(){var e=jQuery("#post_ID").val(),t=indiebooking_admin_ajaxObject.ajaxURL;t=t.replace("admin-ajax.php","admin-post.php");var a;a=jQuery("<form />",{action:t,method:"POST",style:"display: none;"}),jQuery("<input />",{type:"hidden",name:"bookingId",value:e}).appendTo(a),jQuery("<input />",{type:"hidden",name:"action",value:"printBooking2"}).appendTo(a),a.appendTo("body").submit()}),jQuery(document).on("click",".rs_ib_popup_cancel_btn",function(e){var t=(jQuery(this).attr("data-postid"),jQuery(this).closest(".ui-dialog")),a=jQuery(t).find(".ui-dialog-content");jQuery("#wpbody").append('<div id="yesNoCancelDlg" class="ibui_widget rs_ib_taxonomy_popup"><div class="ibui_h2wrap"><h2 class="ibui_h2">'+global_admin_apartment_texts.confirmcancel+"</h2></div></div>");jQuery("#yesNoCancelDlg").dialog({autoOpen:!1,modal:!0,title:global_admin_apartment_texts.attention,zIndex:1e4,resizable:!1,buttons:{ConfirmButton:{text:"OK",id:"rs_ib_taxonomy_coupon_popup_btn_save","class":"rs_ib_taxonomy_popup_btn",click:function(){jQuery(a).dialog("close"),jQuery(this).dialog("close")}},CancelButton:{text:global_admin_apartment_texts.btnCancel,id:"rs_ib_taxonomy_coupon_popup_btn_cancel","class":"rs_ib_taxonomy_popup_btn",click:function(){jQuery(this).dialog("close")}}},close:function(e,t){jQuery("#yesNoDlg").remove()}}),jQuery("#yesNoCancelDlg").dialog("open")});var l=jQuery("#rs_ib_post_booking_contact_popup").dialog({autoOpen:!1,height:700,width:950,modal:!0,resizable:!1,title:jQuery("#rs_ib_post_booking_contact_popup").attr("data-dialogTitle"),buttons:{SaveButton:{text:admin_booking_contact_popup_data.btnSave,id:"rs_ib_post_booking_contact_popup_btn_save","class":"rs_ib_taxonomy_popup_btn rs_ib_taxonomy_popup_btn_save",click:function(){var e=jQuery(this).closest("#rs_ib_post_booking_contact_popup");t(e)}},NextButton:{text:admin_booking_contact_popup_data.btnNext,id:"rs_ib_post_booking_popup_btn_next","class":"rs_ib_taxonomy_popup_btn rs_ib_taxonomy_popup_btn_next",click:function(){if(ibui_indiebooking_check_and_show_save_button(jQuery("#rs_ib_post_booking_popup"))){jQuery(this).closest("#rs_ib_post_booking_contact_popup")}else{var e="#rs_ib_post_booking_contact_popup",t=jQuery(e).prop("scrollHeight"),a=jQuery(e).outerHeight(),n=t-a;jQuery(e).animate({scrollTop:n},850)}}},CancelButton:{text:admin_booking_contact_popup_data.btnCancel,id:"rs_ib_post_booking_contact_popup_btn_cancel","class":"rs_ib_taxonomy_popup_btn rs_ib_popup_cancel_btn",click:function(){}}},open:function(){jQuery("#rs_ib_admin_apartment_booking_contact_container").hide(),jQuery("#rs_ib_admin_apartment_booking_contact_container").find(".toggle_item").hide(),ibui_indiebooking_switch_next_save_button(jQuery(this))},close:function(){}});jQuery("#btnEditBookingContactDataStorno").on("click",function(){var e=jQuery(this).attr("data-infoTitle");jQuery("#wpbody").append('<div id="yesNoDlg" class="ibui_widget rs_ib_taxonomy_popup"><div class="ibui_h2wrap"><h2 class="ibui_h2">'+e+"</h2></div></div>");jQuery("#yesNoDlg").dialog({autoOpen:!1,modal:!0,title:global_admin_apartment_texts.attention,zIndex:1e4,resizable:!1,buttons:{ConfirmButton:{text:"OK",id:"rs_ib_taxonomy_coupon_popup_btn_save","class":"rs_ib_taxonomy_popup_btn",click:function(){l.dialog("open")}},CancelButton:{text:global_admin_apartment_texts.btnCancel,id:"rs_ib_taxonomy_coupon_popup_btn_cancel","class":"rs_ib_taxonomy_popup_btn",click:function(){jQuery(this).dialog("close")}}},close:function(e,t){jQuery("#yesNoDlg").remove()}}),jQuery("#yesNoDlg").dialog("open")}),jQuery("#btnEditBookingContactData").on("click",function(){l.dialog("open")}),jQuery("#cancel_booking_dialog").dialog({autoOpen:!1,modal:!0,zIndex:1e4,resizable:!1,buttons:{Yes:function(){jQuery(this).dialog("close"),r.cancelBooking(jQuery(this).data("bookingId"))},No:function(){jQuery(this).dialog("close")}},close:function(e,t){}});var c=jQuery("body");jQuery(document).on("showHideLoadingContext",function(e,t){t?c.addClass("loading"):c.removeClass("loading")}),jQuery(document).on("click",".btnBuchungStornieren",function(e){var t=jQuery(this).attr("data-postid"),a=jQuery(this).attr("data-cancelTitle");jQuery("#wpbody").append('<div id="yesNoDlg" class="ibui_widget rs_ib_taxonomy_popup"><div class="ibui_h2wrap"><h2 class="ibui_h2">'+a+"</h2></div></div>");jQuery("#yesNoDlg").dialog({autoOpen:!1,modal:!0,title:global_admin_apartment_texts.attention,zIndex:1e4,resizable:!1,buttons:{ConfirmButton:{text:"OK",id:"rs_ib_taxonomy_coupon_popup_btn_save","class":"rs_ib_taxonomy_popup_btn",click:function(){r.cancelBooking(t)}},CancelButton:{text:global_admin_apartment_texts.btnCancel,id:"rs_ib_taxonomy_coupon_popup_btn_cancel","class":"rs_ib_taxonomy_popup_btn",click:function(){jQuery(this).dialog("close")}}},close:function(e,t){jQuery("#yesNoDlg").remove()}}),jQuery("#yesNoDlg").dialog("open")}),jQuery("#btnBuchungStornieren").on("click",function(){var e=jQuery("#post_ID").val();jQuery("#cancel_booking_dialog").data("bookingId",e),jQuery("#cancel_booking_dialog").dialog("open")}),jQuery(".btnAnfrageBestaetigen").on("click",function(){var e=jQuery(this).attr("data-postid");jQuery("#wpbody").append('<div id="yesNoDlg" class="ibui_widget rs_ib_taxonomy_popup"><div class="ibui_h2wrap"><h2 class="ibui_h2">'+global_admin_apartment_texts.confirminquiry+"</h2></div></div>");jQuery("#yesNoDlg").dialog({autoOpen:!1,modal:!0,title:global_admin_apartment_texts.attention,zIndex:1e4,resizable:!1,buttons:{ConfirmButton:{text:"OK","class":"rs_ib_taxonomy_popup_btn",click:function(){r.confirmBookingInquiry(e),jQuery(this).dialog("close")}},CancelButton:{text:global_admin_apartment_texts.btnCancel,id:"rs_ib_taxonomy_coupon_popup_btn_cancel","class":"rs_ib_taxonomy_popup_btn",click:function(){jQuery(this).dialog("close")}}},close:function(e,t){jQuery("#yesNoDlg").remove()}}),jQuery("#yesNoDlg").dialog("open")}),jQuery(".btnZahlungBestaetigen").on("click",function(){var e=jQuery(this).attr("data-postid");jQuery("#wpbody").append('<div id="yesNoDlg" class="ibui_widget rs_ib_taxonomy_popup"><div class="ibui_h2wrap"><h2 class="ibui_h2">'+global_admin_apartment_texts.confirmpayment+"</h2></div></div>");jQuery("#yesNoDlg").dialog({autoOpen:!1,modal:!0,title:global_admin_apartment_texts.attention,zIndex:1e4,resizable:!1,buttons:{ConfirmButton:{text:"OK",id:"rs_ib_taxonomy_coupon_popup_btn_save","class":"rs_ib_taxonomy_popup_btn",click:function(){r.confirmBookingPayment(e)}},CancelButton:{text:global_admin_apartment_texts.btnCancel,id:"rs_ib_taxonomy_coupon_popup_btn_cancel","class":"rs_ib_taxonomy_popup_btn",click:function(){jQuery(this).dialog("close")}}},close:function(e,t){jQuery("#yesNoDlg").remove()}}),jQuery("#yesNoDlg").dialog("open")}),jQuery(".btnAnzahlungBestaetigen").on("click",function(){var e=jQuery(this).attr("data-postid");jQuery("#wpbody").append('<div id="yesNoDlg" class="ibui_widget rs_ib_taxonomy_popup"><div class="ibui_h2wrap"><h2 class="ibui_h2">'+global_admin_apartment_texts.confirmdepositpayment+"</h2></div></div>");jQuery("#yesNoDlg").dialog({autoOpen:!1,modal:!0,title:global_admin_apartment_texts.attention,zIndex:1e4,resizable:!1,buttons:{ConfirmButton:{text:"OK","class":"rs_ib_taxonomy_popup_btn",click:function(){r.confirmBookingDepositPayment(e)}},CancelButton:{text:global_admin_apartment_texts.btnCancel,"class":"rs_ib_taxonomy_popup_btn",click:function(){jQuery(this).dialog("close")}}},close:function(e,t){jQuery("#yesNoDlg").remove()}}),jQuery("#yesNoDlg").dialog("open")}),a()}),jQuery(document).ready(function(){jQuery(".ibfc_switchbtn_input").on("change",function(){var e=jQuery(this).is(":checked"),t="",a="#"+jQuery(this).attr("id")+"_kz",n=jQuery(this).attr("data-indiebooking-value-fieldid");n="undefined"!=typeof n&&0!=n&&"#"+n,t=e?"on":"off",jQuery(this).val(t),jQuery(a).length>0&&jQuery(a).val(t),n!==!1&&jQuery(n).length>0&&jQuery(n).val(t)})}),jQuery(document).ready(function(){jQuery("#rs_ib_admin_apartment_booking_contact_container").bind("paste",".rs_ib_pasteable_field",function(e){var t=e.originalEvent.clipboardData.getData("text"),a=t.split("\n");a.length>3&&(e.preventDefault(),jQuery.each(a,function(e,t){if(0==e){var a=t.split(" ");a.length&&(jQuery("#kontakt_first_name").val(a[0]),a.length>1&&jQuery("#kontakt_name").val(a[1]))}else if(1==e)jQuery("#kontakt_email").val(t);else if(2==e){var n=t.split(" ");n.length&&(jQuery("#route").val(n[0]),n.length>1&&jQuery("#street_number").val(n[1]))}else 3==e?jQuery("#postal_code").val(t):4==e?jQuery("#locality").val(t):5==e?jQuery("#country").val(t):6==e&&jQuery("#kontakt_telefon").val(t)}))})})}();